@model WebMerch.Models.Warehouse.EditViewModel
@{
    ViewBag.Title = "Add";
    Layout = "~/Views/Shared/_LayoutHomeDialog.cshtml";
}

@section scripts{
    <script type="text/javascript">

        $(document).ready(function () {
            $.formValidator.initConfig({ formID: "form_warehouse", onError: function (msg) { art.dialog.tips(msg); } });
            $("#Model_Warehouse_Name").formValidator({ onShow: "", onFocus: "", onCorrect: "" }).inputValidator({ min: 1, max: 50, onError: "名称不能为空,且不超过50个字符" });
            $("#Model_Warehouse_Address").formValidator({ onShow: "", onFocus: "", onCorrect: "" }).inputValidator({ min: 1, max: 100, onError: "地址不能为空,且不超过100个字符" });

        });

        function edit() {

            var isValid = $.formValidator.pageIsValid();
            if (isValid) {
                var form = $("#form_warehouse");
                art.dialog.confirm(
               '确定要保存基本信息？',
                function () {
                    var l_Data = $(form).serializeArray();
                    $.lumos.postJson({
                        isUseHandling: true,
                        url: "/Warehouse/Edit",
                        data: l_Data,
                        success: function (d) {
                            $.lumos.tips(d.message);
                            $.lumos.parentDialog.listTable.loadData();
                        }
                    });
                });
            }
            return false;
        }

    </script>
}
<div class="gbr-row">

    <form id="form_warehouse" name="form_warehouse">
        <input id="Model_Warehouse_Id" name="Model.Warehouse.Id" type="hidden" value="@Model.Warehouse.Id" />
        <table class="f-tb" cellpadding="0" cellspacing="1">
            <tr>
                <td class="f-tb-t" style="width:50px">名称<span class="required-symbol">*</span>：</td>
                <td class="f-tb-c">
                    <span>
                        <input id="Model_Warehouse_Name" name="Model.Warehouse.Name" type="text" class="input-control" value="@Model.Warehouse.Name" style="width:200px;" />
                    </span>
                </td>
            </tr>
            <tr>
                <td class="f-tb-t">地址：</td>
                <td class="f-tb-c">
                    <span>
                        <input id="Model_Warehouse_Address" name="Model.Warehouse.Address" type="text" class="input-control" value="@Model.Warehouse.Address" style="width:300px;" />
                    </span>
                </td>
            </tr>
            <tr>
                <td class="f-tb-t" style="width:50px">
                    描述：
                </td>
                <td class="f-tb-c">
                    <textarea id="Model_Warehouse_Description" name="Model.Warehouse.Description" class="ckeditor" style="width:80%;height:150px;">@Model.Warehouse.Description</textarea>
                </td>
            </tr>
            <tr style="display:none">
                <td class="f-tb-t"></td>
                <td class="f-tb-c">
                    <input type="button" value="保存" class="btn btn-sure" onclick="return edit();" />
                </td>
            </tr>
        </table>
    </form>

</div>