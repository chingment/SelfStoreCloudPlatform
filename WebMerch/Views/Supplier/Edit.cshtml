@model WebMerch.Models.Supplier.EditViewModel
@{
    ViewBag.Title = "Add";
    Layout = "~/Views/Shared/_LayoutHomeDialog.cshtml";
}

@section scripts{
    <script type="text/javascript">

        $(document).ready(function () {
            $.formValidator.initConfig({ formID: "form_company", onError: function (msg) { art.dialog.tips(msg); }, onSuccess: function () { return submit(); } });
            $("#Model_Company_Name").formValidator({ onShow: "", onFocus: "", onCorrect: "" }).inputValidator({ min: 1, max: 50, onError: "名称不能为空,且不超过50个字符" });
            $("#Model_Company_Address").formValidator({ onShow: "", onFocus: "", onCorrect: "" }).inputValidator({ min: 1, max: 100, onError: "地址不能为空,且不超过100个字符" });

        });

        function submit() {

            var form = $("#form_company");

            art.dialog.confirm(
           '确定要保存基本信息？',
            function () {
                var l_Data = $(form).serializeArray();
                $.lumos.postJson({
                    isUseHandling: true,
                    url: "/Supplier/Edit",
                    data: l_Data,
                    success: function (d) {
                        $.lumos.tips(d.message);
                        $.lumos.parentDialog.listTable.loadData();
                    }
                });
            });


            return false;
        }

    </script>
}

<div class="gbr-row">
    <div class="tab" id="tab1">
        <div class="tab-item">
            <ul>
                <li class="item first selected"><a class="a-btn-info" href="javascript:void(0)">基本信息</a></li>
                @*<li class="item"><a class="a-btn-info" href="javascript:void(0)">机器管理</a></li>*@
            </ul>
        </div>
        <div class="tab-content">
            <div class="subcontent">
                <form id="form_company" name="form_company">
                    <input id="Model_Company_Id" name="Model.Company.Id" type="hidden" value="@Model.Company.Id" />
                    <table class="f-tb" cellpadding="0" cellspacing="1">
                        <tr>
                            <td class="f-tb-t">名称：</td>
                            <td class="f-tb-c">
                                <span>
                                    <input id="Model_Company_Name" name="Model.Company.Name" type="text" class="input-control" value="@Model.Company.Name" style="width:200px;" />
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td class="f-tb-t">地址：</td>
                            <td class="f-tb-c">
                                <span>
                                    <input id="Model_Company_Address" name="Model.Company.Address" type="text" class="input-control" value="@Model.Company.Address" style="width:300px;" />
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td class="f-tb-t"></td>
                            <td class="f-tb-c">
                                <input type="submit" name="btn_Submit" id="btn_Submit" value="保存" class="btn btn-sure" />
                            </td>
                        </tr>
                    </table>
                </form>
            </div>
            @*<div class="subcontent">

            
            </div>*@
        </div>
    </div>
</div>